{"version":3,"sources":["webpack:///./src/views/CheckOutInfo.vue","webpack:///src/views/CheckOutInfo.vue","webpack:///./src/views/CheckOutInfo.vue?eb5b","webpack:///./src/views/CheckOutInfo.vue?5c04","webpack:///./src/views/CheckOutInfo.vue?9819"],"names":["render","_vm","this","_c","_self","staticClass","checkOrderProccessing","attrs","checkOrderProccessingWord","_e","_m","_v","directives","name","rawName","value","userInfo","customerName","expression","domProps","on","$event","target","composing","$set","customerPhone","customerEmail","sameInfo","cancelSameInfo","addSameInfo","recipientName","recipientPhone","recipientCity","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","_l","cities","city","key","id","_s","recipientAddress","recipientEmail","stopPropagation","preventDefault","previousPage","apply","arguments","nextStep","staticRenderFns","require","components","Navbar","CartNavbar","CheckOutStep","CheckOrderSpinner","data","tradeInfo","orderId","methods","fetchInfo","setTimeout","Swal","icon","title","toast","showConfirmButton","timer","text","focusConfirm","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","localStorage","mounted","computed","beforeDestroy","watch","cart","handler","deep","component"],"mappings":"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C,cACA,uDACA,yDACA,yDACA,kBAEAD,iBACA,+BACA,gCACA,gCACA,kBAEA0C,YACA,kBACA,cACArD,mCACAS,wCACA,qDAGA,iBACA,qCAIA,OAHA,+CACA,mCACA6C,mCAGA,mBACAtD,gBACAQ,gBACAC,gBACAI,iBACAC,iBACAqB,gBACApB,mBACAmB,GACA,cACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EASA,YAPAqB,UACAC,eACAC,kBACAC,SACAC,qBACAC,YAIA,IACAnD,qBACAA,wBACA0B,qBACAA,sBASA,YAPAoB,UACAC,eACAC,2BACAC,SACAC,qBACAC,YAKA,wBACAH,eACAI,2BACAL,eACAM,gBACAC,oBACAC,6BACAC,4BACAC,sBACAC,2BAEA,gBAIAC,qEACA,mBAGA,kBACA,IACA,8BACA,mBACApE,gBACAQ,gBACAC,gBACAI,iBACAC,iBACAqB,gBACApB,mBACAmB,GACA,cACA,0BACAlC,eACAQ,gBACAC,gBACAI,gBACAC,iBACAqB,iBACApB,gBACAmB,uBAEA,kDAOA,2BANA,4BACAkC,uDACA,8BACA,8CACA,mBAAAxE,0BAIA,SACA,8BACA2D,UACAC,eACAC,uBACAC,SACAC,qBACAC,cAKAtB,eACA,mBAAA1C,6BAGAyE,UACA,2CACA,kBAEAC,aACA,0DAEAC,gBACA,4CAEAC,OAEAC,MACAC,mBACA,uBAEAC,WC/YsV,I,wBCQlVC,EAAY,eACd,EACA7F,EACA2D,GACA,EACA,KACA,WACA,MAIa,aAAAkC,E,6CCnBf,W","file":"js/chunk-55124650.4bda9328.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"checkout-product\"},[(_vm.checkOrderProccessing)?_c('CheckOrderSpinner',{attrs:{\"text\":_vm.checkOrderProccessingWord}}):_vm._e(),_c('Navbar'),_c('CartNavbar'),_vm._m(0),_c('div',{staticClass:\"checkout-product-step\"},[_c('CheckOutStep')],1),_c('form',[_c('div',{staticClass:\"checkout-product-content\"},[_c('div',{staticClass:\"checkout-product-content-top\"},[_c('h2',[_vm._v(\"訂購人資料\")]),_c('div',{staticClass:\"checkout-product-content-top-input\"},[_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-name\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.customerName),expression:\"userInfo.customerName\"}],staticClass:\"checkout-product-content-top-input-name-input\",attrs:{\"placeholder\":\"請填寫「訂購人」姓名，如：李喵吉\",\"id\":\"name\",\"type\":\"text\",\"autofocus\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.customerName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"customerName\", $event.target.value)}}})]),_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-phone\"},[_vm._m(2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.customerPhone),expression:\"userInfo.customerPhone\"}],staticClass:\"checkout-product-content-top-input-phone-input\",attrs:{\"placeholder\":\"請填寫「訂購人」電話，如：0910000xxx\",\"id\":\"phone\",\"type\":\"tel\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.customerPhone)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"customerPhone\", $event.target.value)}}})]),_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-email\"},[_vm._m(3),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.customerEmail),expression:\"userInfo.customerEmail\"}],staticClass:\"checkout-product-content-top-input-email-input\",attrs:{\"placeholder\":\"將會寄送訂單資訊至訂購人信箱\",\"id\":\"email\",\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.customerEmail)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"customerEmail\", $event.target.value)}}})])])]),_c('div',{staticClass:\"checkout-product-content-top\"},[_c('h2',[_vm._v(\"收件人資料\")]),_c('div',[(!_vm.sameInfo)?_c('i',{staticClass:\"far fa-circle\",on:{\"click\":_vm.addSameInfo}}):_c('i',{staticClass:\"fas fa-circle\",on:{\"click\":_vm.cancelSameInfo}}),_vm._v(\"同訂購人資料 \")]),_c('div',{staticClass:\"checkout-product-content-top-input\"},[_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-name\"},[_vm._m(4),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.recipientName),expression:\"userInfo.recipientName\"}],staticClass:\"checkout-product-content-top-input-name-input\",attrs:{\"id\":\"name\",\"type\":\"text\",\"autofocus\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.recipientName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"recipientName\", $event.target.value)}}})]),_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-phone\"},[_vm._m(5),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.recipientPhone),expression:\"userInfo.recipientPhone\"}],staticClass:\"checkout-product-content-top-input-phone-input\",attrs:{\"id\":\"phone\",\"type\":\"tel\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.recipientPhone)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"recipientPhone\", $event.target.value)}}})]),_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-email\"},[_vm._m(6),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.recipientCity),expression:\"userInfo.recipientCity\"}],attrs:{\"name\":\"city\",\"id\":\"city\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.userInfo, \"recipientCity\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"man\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"請選擇縣市\")]),_vm._l((_vm.cities),function(city){return _c('option',{key:city.id,domProps:{\"value\":city.name}},[_vm._v(\" \"+_vm._s(city.name)+\" \")])})],2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.recipientAddress),expression:\"userInfo.recipientAddress\"}],staticClass:\"checkout-product-content-top-input-email-input\",attrs:{\"id\":\"email\",\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.recipientAddress)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"recipientAddress\", $event.target.value)}}})]),_c('div',{staticClass:\"checkout-input checkout-product-content-top-input-email\"},[_vm._m(7),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.recipientEmail),expression:\"userInfo.recipientEmail\"}],staticClass:\"checkout-product-content-top-input-email-input\",attrs:{\"id\":\"email\",\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.userInfo.recipientEmail)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userInfo, \"recipientEmail\", $event.target.value)}}})])])])]),_c('div',{staticClass:\"checkout-product-button\"},[_c('button',{staticClass:\"checkout-product-button-previous\",attrs:{\"to\":{ name: 'CheckOut-Products' }},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.previousPage.apply(null, arguments)}}},[_vm._v(\" 上一步 \")]),_c('button',{staticClass:\"checkout-product-button-next\",attrs:{\"type\":\"submit\",\"to\":{ name: 'CheckOut-Info' },\"disabled\":!this.userInfo.customerName ||\n          !this.userInfo.customerPhone ||\n          !this.userInfo.customerEmail ||\n          !this.userInfo.customerName ||\n          !this.userInfo.recipientPhone ||\n          !this.userInfo.recipientEmail ||\n          !this.userInfo.recipientCity ||\n          !this.userInfo.recipientAddress},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.nextStep.apply(null, arguments)}}},[_vm._v(\" 訂單確認 \")])])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"checkout-product-cover\"},[_c('img',{staticClass:\"checkout-product-cover-title\",attrs:{\"src\":require(\"./../assets/checkout-title.png\")}}),_c('img',{staticClass:\"checkout-product-cover-img\",attrs:{\"src\":require(\"./../assets/about-img-2.png\")}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"訂購人姓名\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"訂購人電話\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"訂購人Email\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"收件人姓名\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"收件人電話\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"收件人地址\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"name\"}},[_c('h3',[_vm._v(\"收件人Email\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"checkout-product\">\n    <CheckOrderSpinner\n      v-if=\"checkOrderProccessing\"\n      :text=\"checkOrderProccessingWord\"\n    />\n    <Navbar />\n    <CartNavbar />\n    <div class=\"checkout-product-cover\">\n      <img\n        class=\"checkout-product-cover-title\"\n        src=\"./../assets/checkout-title.png\"\n      />\n      <img\n        class=\"checkout-product-cover-img\"\n        src=\"./../assets/about-img-2.png\"\n      />\n    </div>\n    <div class=\"checkout-product-step\">\n      <CheckOutStep />\n    </div>\n    <form>\n      <div class=\"checkout-product-content\">\n        <div class=\"checkout-product-content-top\">\n          <h2>訂購人資料</h2>\n\n          <div class=\"checkout-product-content-top-input\">\n            <div class=\"checkout-input checkout-product-content-top-input-name\">\n              <label for=\"name\"><h3>訂購人姓名</h3></label>\n              <input\n                placeholder=\"請填寫「訂購人」姓名，如：李喵吉\"\n                v-model=\"userInfo.customerName\"\n                class=\"checkout-product-content-top-input-name-input\"\n                id=\"name\"\n                type=\"text\"\n                autofocus\n                required\n              />\n            </div>\n\n            <div\n              class=\"checkout-input checkout-product-content-top-input-phone\"\n            >\n              <label for=\"name\"><h3>訂購人電話</h3></label>\n              <input\n                placeholder=\"請填寫「訂購人」電話，如：0910000xxx\"\n                v-model=\"userInfo.customerPhone\"\n                class=\"checkout-product-content-top-input-phone-input\"\n                id=\"phone\"\n                type=\"tel\"\n                required\n              />\n            </div>\n\n            <div\n              class=\"checkout-input checkout-product-content-top-input-email\"\n            >\n              <label for=\"name\"><h3>訂購人Email</h3></label>\n              <input\n                placeholder=\"將會寄送訂單資訊至訂購人信箱\"\n                v-model=\"userInfo.customerEmail\"\n                class=\"checkout-product-content-top-input-email-input\"\n                id=\"email\"\n                type=\"email\"\n                required\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"checkout-product-content-top\">\n          <h2>收件人資料</h2>\n          <div>\n            <i class=\"far fa-circle\" v-if=\"!sameInfo\" @click=\"addSameInfo\"></i\n            ><i v-else class=\"fas fa-circle\" @click=\"cancelSameInfo\"></i\n            >同訂購人資料\n          </div>\n\n          <div class=\"checkout-product-content-top-input\">\n            <div class=\"checkout-input checkout-product-content-top-input-name\">\n              <label for=\"name\"><h3>收件人姓名</h3></label>\n              <input\n                v-model=\"userInfo.recipientName\"\n                class=\"checkout-product-content-top-input-name-input\"\n                id=\"name\"\n                type=\"text\"\n                autofocus\n                required\n              />\n            </div>\n\n            <div\n              class=\"checkout-input checkout-product-content-top-input-phone\"\n            >\n              <label for=\"name\"><h3>收件人電話</h3></label>\n              <input\n                v-model=\"userInfo.recipientPhone\"\n                class=\"checkout-product-content-top-input-phone-input\"\n                id=\"phone\"\n                type=\"tel\"\n                required\n              />\n            </div>\n\n            <div\n              class=\"checkout-input checkout-product-content-top-input-email\"\n            >\n              <label for=\"name\"><h3>收件人地址</h3></label>\n              <select\n                name=\"city\"\n                id=\"city\"\n                v-model=\"userInfo.recipientCity\"\n                required\n              >\n                <option value=\"man\" disabled selected>請選擇縣市</option>\n                <option\n                  v-for=\"city in cities\"\n                  :key=\"city.id\"\n                  :value=\"city.name\"\n                >\n                  {{ city.name }}\n                </option>\n              </select>\n\n              <input\n                v-model=\"userInfo.recipientAddress\"\n                class=\"checkout-product-content-top-input-email-input\"\n                id=\"email\"\n                type=\"email\"\n                required\n              />\n            </div>\n\n            <div\n              class=\"checkout-input checkout-product-content-top-input-email\"\n            >\n              <label for=\"name\"><h3>收件人Email</h3></label>\n              <input\n                v-model=\"userInfo.recipientEmail\"\n                class=\"checkout-product-content-top-input-email-input\"\n                id=\"email\"\n                type=\"email\"\n                required\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"checkout-product-button\">\n        <button\n          @click.stop.prevent=\"previousPage\"\n          :to=\"{ name: 'CheckOut-Products' }\"\n          class=\"checkout-product-button-previous\"\n        >\n          上一步\n        </button>\n        <button\n          @click.stop.prevent=\"nextStep\"\n          type=\"submit\"\n          :to=\"{ name: 'CheckOut-Info' }\"\n          class=\"checkout-product-button-next\"\n          :disabled=\"\n            !this.userInfo.customerName ||\n            !this.userInfo.customerPhone ||\n            !this.userInfo.customerEmail ||\n            !this.userInfo.customerName ||\n            !this.userInfo.recipientPhone ||\n            !this.userInfo.recipientEmail ||\n            !this.userInfo.recipientCity ||\n            !this.userInfo.recipientAddress\n          \"\n        >\n          訂單確認\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n\n<script>\nimport Navbar from \"@/components/Navbar.vue\";\nimport CartNavbar from \"@/components/CartNavbar.vue\";\nimport CheckOutStep from \"@/components/CheckOutStep.vue\";\nimport { mapState } from \"vuex\";\nimport Swal from \"sweetalert2\";\n//import Swal from \"sweetalert2\";\nimport OrderAPI from \"./../apis/order\";\nimport CheckOrderSpinner from \"@/components/CheckOrderSpinner.vue\";\n//import ProductAPI from \"./../apis/products\";\n\nexport default {\n  name: \"checkout-product\",\n  components: {\n    Navbar,\n    CartNavbar,\n    CheckOutStep,\n    CheckOrderSpinner,\n  },\n  data() {\n    return {\n      sameInfo: false,\n      userInfo: {\n        customerName: \"\",\n        customerPhone: \"\",\n        customerEmail: \"\",\n        recipientName: \"\",\n        recipientPhone: \"\",\n        recipientEmail: \"\",\n        recipientCity: \"\",\n        recipientAddress: \"\",\n      },\n\n      cities: [\n        { name: \"基隆市\", id: \"1\" },\n        { name: \"台北市\", id: \"2\" },\n        { name: \"新北市\", id: \"3\" },\n        { name: \"桃園市\", id: \"4\" },\n        { name: \"新竹市\", id: \"5\" },\n        { name: \"新竹縣\", id: \"6\" },\n        { name: \"苗栗市\", id: \"7\" },\n        { name: \"台中縣\", id: \"8\" },\n        { name: \"彰化縣\", id: \"9\" },\n        { name: \"南投縣\", id: \"10\" },\n        { name: \"雲林縣\", id: \"11\" },\n        { name: \"嘉義市\", id: \"12\" },\n        { name: \"嘉義縣\", id: \"13\" },\n        { name: \"台南市\", id: \"14\" },\n        { name: \"高雄市\", id: \"15\" },\n        { name: \"屏東縣\", id: \"16\" },\n        { name: \"台東縣\", id: \"18\" },\n        { name: \"花蓮縣\", id: \"19\" },\n        { name: \"宜蘭縣\", id: \"20\" },\n        { name: \"澎湖縣\", id: \"21\" },\n        { name: \"金門縣\", id: \"22\" },\n        { name: \"連江縣\", id: \"23\" },\n      ],\n      checkOrderProccessing: false,\n      checkOrderProccessingWord: \"訂單建立中\",\n      tradeInfo: {},\n      orderId: 0,\n    };\n  },\n\n  methods: {\n    addSameInfo() {\n      this.userInfo.recipientName = this.userInfo.customerName;\n      this.userInfo.recipientEmail = this.userInfo.customerEmail;\n      this.userInfo.recipientPhone = this.userInfo.customerPhone;\n      this.sameInfo = true;\n    },\n    cancelSameInfo() {\n      this.userInfo.recipientName = \"\";\n      this.userInfo.recipientEmail = \"\";\n      this.userInfo.recipientPhone = \"\";\n      this.sameInfo = false;\n    },\n    fetchInfo() {\n      this.userInfo = {\n        ...this.userInfo,\n        customerName: this.currentUser.name,\n        customerEmail: this.currentUser.email,\n        ...JSON.parse(localStorage.getItem(\"go_farmmy_user\")),\n      };\n    },\n    async nextStep() {\n      if (this.cart.shoppingCart.length === 0) {\n        this.checkOrderProccessingWord = \"購物車內無商品，請添加商品\";\n        this.checkOrderProccessing = true;\n        setTimeout(this.previousPage, 1500);\n        return;\n      }\n      const {\n        customerName,\n        customerPhone,\n        customerEmail,\n        recipientName,\n        recipientPhone,\n        recipientEmail,\n        recipientCity,\n        recipientAddress,\n      } = this.userInfo;\n      if (\n        !customerName ||\n        !customerPhone ||\n        !customerEmail ||\n        !recipientName ||\n        !recipientPhone ||\n        !recipientEmail ||\n        !recipientCity ||\n        !recipientAddress\n      ) {\n        Swal.fire({\n          icon: \"warning\",\n          title: `所有欄位皆為必填喔`,\n          toast: true,\n          showConfirmButton: false,\n          timer: 3000,\n        });\n        return;\n      }\n      if (\n        customerEmail.indexOf(\"@\") === -1 ||\n        customerEmail.indexOf(\".com\") === -1 ||\n        recipientEmail.indexOf(\"@\") === -1 ||\n        recipientEmail.indexOf(\".com\") === -1\n      ) {\n        Swal.fire({\n          icon: \"warning\",\n          title: `email需含有 @ 與 .com `,\n          toast: true,\n          showConfirmButton: false,\n          timer: 3000,\n        });\n        return;\n      }\n\n      const result = await Swal.fire({\n        title: \"訂單即將送出\",\n        text: \"訂單確認後即不可修改，可至會員中心查看\",\n        icon: \"warning\",\n        focusConfirm: true,\n        showCancelButton: true,\n        confirmButtonColor: \"#808080\",\n        cancelButtonColor: \"#2a2a2a\",\n        cancelButtonText: \"取消\",\n        confirmButtonText: \"訂單確認\",\n      });\n      if (!result.isConfirmed) {\n        return;\n      }\n\n      localStorage.setItem(\"go_farmmy_user\", JSON.stringify(this.userInfo));\n      this.postOrder();\n    },\n\n    async postOrder() {\n      try {\n        this.checkOrderProccessing = true;\n        const {\n          customerName,\n          customerPhone,\n          customerEmail,\n          recipientName,\n          recipientPhone,\n          recipientEmail,\n          recipientCity,\n          recipientAddress,\n        } = this.userInfo;\n        const response = await OrderAPI.postOrder({\n          customerName,\n          customerPhone,\n          customerEmail,\n          recipientName,\n          recipientPhone,\n          recipientEmail,\n          recipientCity,\n          recipientAddress: recipientCity + recipientAddress,\n        });\n        if (response.data.message === \"Successfully added an order\") {\n          this.orderId = response.data.orderId;\n          localStorage.setItem(\"go_farmmy_orderId\", this.orderId);\n          this.checkOrderProccessing = false;\n          this.$store.dispatch(\"ChangeShoppingCart\", []);\n          this.$router.push({ name: \"CheckOut-Payment\" });\n        } else {\n          throw new Error(response.message);\n        }\n      } catch (error) {\n        this.checkOrderProccessing = false;\n        Swal.fire({\n          icon: \"warning\",\n          title: `訂單建立失敗，請與客服聯繫 `,\n          toast: true,\n          showConfirmButton: false,\n          timer: 2000,\n        });\n      }\n    },\n\n    previousPage() {\n      this.$router.push({ name: \"CheckOut-Products\" });\n    },\n  },\n  mounted() {\n    this.$store.commit(\"changeCheckOutStep\", 2);\n    this.fetchInfo();\n  },\n  computed: {\n    ...mapState([\"isAuthenticated\", \"cart\", \"currentUser\"]),\n  },\n  beforeDestroy() {\n    this.$store.commit(\"changeCheckOutStep\", 0);\n  },\n  watch: {\n    //監聽使用者資料有沒有改變\n    cart: {\n      handler: function () {\n        this.calculateTotal();\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/color.scss\";\n@import \"../assets/scss/efficient.scss\";\n\n.checkout-product {\n  margin: 0 0;\n  width: 100vw;\n  height: 100vh;\n  overflow-y: scroll;\n  background-image: url(\"./../assets/home-background.png\");\n  &-cover {\n    position: relative;\n    &-title {\n      @extend %cover-title;\n    }\n    &-img {\n      @extend %cover-img;\n    }\n  }\n  &-content {\n    margin-top: 2%;\n    width: 100 vw;\n    &-top {\n      padding: 1%;\n      //border: 4px $color-brown solid;\n      width: 70%;\n      margin: 0 auto 2% auto;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      //background-color: $color-yellow;\n      h2 {\n        width: 100%;\n        margin-bottom: 1%;\n        border: 4px $color-brown solid;\n        background-color: $color-yellow;\n        text-align: center;\n      }\n      div {\n        text-align: center;\n        width: 100%;\n      }\n      .fa-circle {\n        margin-right: 1%;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n      &-input {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n      }\n      .checkout-input {\n        width: 70%;\n        margin-top: 2%;\n        display: flex;\n        //margin-right: 5%;\n        label {\n          height: 45px;\n          padding: 2%;\n          background-color: $color-brown;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          h3 {\n            color: white;\n            white-space: nowrap;\n          }\n        }\n        input {\n          height: 45px;\n          width: 100%;\n          font-size: 18px;\n          padding-left: 2%;\n          border: 4px $color-brown solid;\n          &:focus {\n            border: 4px $color-yellow solid;\n          }\n        }\n        select {\n          font-size: 18px;\n          padding-left: 2%;\n          border-top: 4px $color-brown solid;\n          border-bottom: 4px $color-brown solid;\n          border-left: 4px $color-brown solid;\n          &:focus {\n            border: 4px $color-yellow solid;\n          }\n        }\n      }\n    }\n  }\n\n  &-button {\n    @extend %checkout-button-area;\n    &-next,\n    &-previous {\n      @extend %checkout-button;\n      color: $color-brown;\n    }\n    &-next,\n    &-previous {\n      &:hover {\n        transform: scale(1.1, 1.1);\n      }\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n        transform: scale(1, 1);\n      }\n    }\n  }\n}\n@media screen and (max-width: 1100px) {\n  .checkout-product {\n          &-button {\n      width: 60%;\n    &-next,\n    &-previous {\n      margin: 0 3%;\n\n    }\n    }\n  &-content {\n    &-top {\n \n      width: 90%;\n      .checkout-input {\n        width: 100%;\n      }\n    }\n  }\n  }\n\n\n}\n@media screen and (max-width: 539px) {\n  .checkout-product {\n    &-content {\n      .checkout-input {\n        input {\n          font-size: 14px;\n        }\n      }\n    \n    }\n     &-button {\n         &-next,\n    &-previous {\n      font-size: 15px;\n    }\n     }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOutInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOutInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckOutInfo.vue?vue&type=template&id=d8a66672&scoped=true&\"\nimport script from \"./CheckOutInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckOutInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckOutInfo.vue?vue&type=style&index=0&id=d8a66672&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8a66672\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOutInfo.vue?vue&type=style&index=0&id=d8a66672&prod&lang=scss&scoped=true&\""],"sourceRoot":""}