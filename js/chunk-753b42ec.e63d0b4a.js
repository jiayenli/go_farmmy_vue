(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-753b42ec"],{1235:function(t,s,a){"use strict";a("e746")},1511:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"user"},[s("Navbar"),s("CartNavbar"),s("div",{staticClass:"user-cover",on:{click:t.controlCartModel}},[s("img",{staticClass:"user-cover-title",attrs:{src:a("f271")}}),s("img",{staticClass:"user-cover-img",attrs:{src:a("7b73")}})]),s("div",{staticClass:"user-content",on:{click:t.controlCartModel}},[s("div",{staticClass:"user-content-nav"},[s("UserNavbar",{on:{detailPageFilter:t.productFilter}})],1),s("div",{staticClass:"user-content-items"},[s("UserEdit")],1)])],1)},e=[],o=(a("14d9"),a("d178")),n=a("bd13"),r=a("d839"),c=function(){var t=this,s=t._self._c;return s("div",{staticClass:"signin-form",on:{"!scroll":function(s){return t.scrollChange.apply(null,arguments)},click:t.controlCartModel}},[s("h2",[t._v("修改個人資料")]),s("form",{staticClass:"form"},[s("div",{staticClass:"signin-form-content"},[s("div",{staticClass:"signin-form-content-name"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"signin-form-content-name-input",attrs:{id:"name",type:"name",autofocus:"",required:""},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),s("div",{staticClass:"signin-form-content-email"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"signin-form-content-email-input",attrs:{placeholder:"請含有@、com等字元",id:"email",type:"email",required:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})]),s("div",{staticClass:"signin-form-content-initialPassword"},[t._m(2),"checkbox"===t.showInitialPassword?s("input",{directives:[{name:"model",rawName:"v-model",value:t.initialPassword,expression:"initialPassword"}],staticClass:"signin-form-content-initialPassword-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"initialPassword",autofocus:"",required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.initialPassword)?t._i(t.initialPassword,null)>-1:t.initialPassword},on:{change:function(s){var a=t.initialPassword,i=s.target,e=!!i.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);i.checked?n<0&&(t.initialPassword=a.concat([o])):n>-1&&(t.initialPassword=a.slice(0,n).concat(a.slice(n+1)))}else t.initialPassword=e}}}):"radio"===t.showInitialPassword?s("input",{directives:[{name:"model",rawName:"v-model",value:t.initialPassword,expression:"initialPassword"}],staticClass:"signin-form-content-initialPassword-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"initialPassword",autofocus:"",required:"",type:"radio"},domProps:{checked:t._q(t.initialPassword,null)},on:{change:function(s){t.initialPassword=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.initialPassword,expression:"initialPassword"}],staticClass:"signin-form-content-initialPassword-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"initialPassword",autofocus:"",required:"",type:t.showInitialPassword},domProps:{value:t.initialPassword},on:{input:function(s){s.target.composing||(t.initialPassword=s.target.value)}}}),s("div",{staticClass:"signin-form-content-password-eye"},[t.showInitialPassword?s("i",{staticClass:"fas fa-eye-slash",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clickShowPassword("showInitialPassword")}}}):s("i",{staticClass:"fas fa-eye",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clickHidePassword("showInitialPassword")}}})])]),s("div",{staticClass:"signin-form-content-password"},[t._m(3),"checkbox"===t.showPassword?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"signin-form-content-password-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"password",autofocus:"",required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(s){var a=t.password,i=s.target,e=!!i.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);i.checked?n<0&&(t.password=a.concat([o])):n>-1&&(t.password=a.slice(0,n).concat(a.slice(n+1)))}else t.password=e}}}):"radio"===t.showPassword?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"signin-form-content-password-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"password",autofocus:"",required:"",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(s){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"signin-form-content-password-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"password",autofocus:"",required:"",type:t.showPassword},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),s("div",{staticClass:"signin-form-content-password-eye"},[t.showPassword?s("i",{staticClass:"fas fa-eye-slash",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clickShowPassword("password")}}}):s("i",{staticClass:"fas fa-eye",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clickHidePassword("password")}}})])]),s("div",{staticClass:"signin-form-content-checkPassword"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],staticClass:"signin-form-content-checkPassword-input",attrs:{placeholder:"密碼更動時才需要填寫",id:"checkPassword",type:"password",autofocus:"",required:""},domProps:{value:t.checkPassword},on:{input:function(s){s.target.composing||(t.checkPassword=s.target.value)}}})]),s("div",{staticClass:"signin-form-content-buttonarea"},[t.processing?s("div",{staticClass:"signin-form-content-button block"},[s("h3",[t._v("修改中...")])]):s("div",{staticClass:"signin-form-content-button",class:{block:!t.email||!t.name},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.editUser.apply(null,arguments)}}},[s("h3",[t._v("修改")])])])])])])},l=[function(){var t=this,s=t._self._c;return s("label",{staticClass:"signin-form-content-name-lebel",attrs:{for:"name"}},[s("h3",[t._v("姓名")])])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"signin-form-content-email-lebel",attrs:{for:"email"}},[s("h3",[t._v("Email")])])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"signin-form-content-initialPassword-lebel",attrs:{for:"password"}},[s("h3",[t._v("舊密碼")])])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"signin-form-content-password-lebel",attrs:{for:"password"}},[s("h3",[t._v("新密碼")])])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"signin-form-content-checkPassword-lebel",attrs:{for:"checkPassword"}},[s("h3",[t._v("新密碼確認")])])}],d=(a("d9e2"),a("4cce")),u=a("3d20"),m=a.n(u),h=a("2f62"),p={data(){return{showPassword:"password",showInitialPassword:"password",passwordKeyWord:"",email:"",password:"",name:"",checkPassword:"",initialPassword:"",processing:!1}},methods:{async editUser(){this.$store.commit("closeCartModel");const t=await this.$store.dispatch("checkEmptyInput",[this.email,this.name]);if(t)return;const s=await this.$store.dispatch("checkEmail",this.email);if(s)return;if(this.password||this.initialPassword){if(!this.initialPassword)return void m.a.fire({icon:"warning",title:"未填舊密碼",toast:!0,showConfirmButton:!1,timer:2e3});if(!this.password)return void m.a.fire({icon:"warning",title:"未填新密碼",toast:!0,showConfirmButton:!1,timer:2e3})}const a=await this.$store.dispatch("checkPassword",{password:this.password,checkPassword:this.checkPassword});if(!a)try{this.processing=!0;const t=await d["a"].PutUser({id:this.currentUser.id,name:this.name,email:this.email,password:this.initialPassword,newPassword:this.password,checkPassword:this.checkPassword}),{data:s}=t;if(console.log("putUser",s),"success"!==s.status)throw new Error(s.message);m.a.fire({icon:"success",title:"修改成功！",toast:!0,showConfirmButton:!1,timer:2e3}),this.processing=!1,this.initialPassword="",this.password="",this.checkPassword="",this.$store.dispatch("fetchCurrentUser")}catch(i){if(this.$store.dispatch("fetchCurrentUser"),this.fetchUser(),this.processing=!1,this.initialPassword="",this.password="",this.checkPassword="","This email has been registered"===i.message)return void m.a.fire({icon:"warning",title:"email已重複註冊",toast:!0,showConfirmButton:!1,timer:2e3});if("Wrong password"===i.message)return void m.a.fire({icon:"warning",title:"密碼輸入錯誤",toast:!0,showConfirmButton:!1,timer:2e3});m.a.fire({icon:"error",title:"修改失敗，請聯繫客服",toast:!0,showConfirmButton:!1,timer:2e3})}},fetchUser(){this.email=this.currentUser.email,this.name=this.currentUser.name},controlCartModel(){this.$store.commit("closeCartModel")},clickShowPassword(t){"showInitialPassword"===t&&(this.showInitialPassword=""),"password"===t&&(this.showPassword="")},clickHidePassword(t){"showInitialPassword"===t&&(this.showInitialPassword="password"),"password"===t&&(this.showPassword="password")}},created(){this.fetchUser()},computed:{...Object(h["b"])(["currentUser"])}},f=p,w=(a("30ea"),a("2877")),v=Object(w["a"])(f,c,l,!1,null,"b1d5e3ce",null),g=v.exports,C={name:"Member",components:{Navbar:o["a"],UserNavbar:r["a"],UserEdit:g,CartNavbar:n["a"]},data(){return{item:{},showItems:[],filterName:""}},methods:{productFilter(){this.$router.push({name:"Product"})},controlCartModel(){this.$store.commit("closeCartModel")}}},P=C,k=(a("ac89"),Object(w["a"])(P,i,e,!1,null,"326800f6",null));s["default"]=k.exports},1762:function(t,s,a){t.exports=a.p+"img/home-nav-icon-07.5bd3c2ec.png"},"305f":function(t,s,a){},"30ea":function(t,s,a){"use strict";a("90d9")},3989:function(t,s,a){t.exports=a.p+"img/home-logo.e974c3d3.png"},4890:function(t,s,a){},5144:function(t,s,a){},"78c0":function(t,s,a){t.exports=a.p+"img/home-nav-icon-08.4ec03bbd.png"},"7b73":function(t,s,a){t.exports=a.p+"img/home-img-5.811a769a.png"},"90d9":function(t,s,a){},"9ddc":function(t,s,a){"use strict";a("f8ca")},ac89:function(t,s,a){"use strict";a("5144")},af85:function(t,s,a){"use strict";a("4890")},bd13:function(t,s,a){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart-navbar"},[t.cartModel?s("CartListModal"):t._e(),s("div",{staticClass:"cart-navbar-shopping"},[0===t.checkOutStep?s("div",{staticClass:"icon cart-navbar-cart",attrs:{title:"購物車"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.showCardModel.apply(null,arguments)}}},[t.cart.shoppingCart.length>0?s("span",{staticClass:"cart-navbar-cart-notication"},[t._v(" "+t._s(t.cart.shoppingCart.length)+" ")]):t._e(),s("i",{staticClass:"fas fa-shopping-cart"}),s("h6",[t._v("購物車")])]):t._e(),s("router-link",{attrs:{to:{name:"Sign-in"}}},[t.isAuthenticated?t._e():s("div",{staticClass:"icon cart-navbar-login",attrs:{title:"登入"}},[s("i",{staticClass:"fas fa-sign-in-alt"}),s("h6",[t._v("登入")])])]),t.isAuthenticated?s("div",{staticClass:"icon cart-navbar-logout",attrs:{title:"登出"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.logOut.apply(null,arguments)}}},[s("i",{staticClass:"fas fa-sign-out-alt"}),s("h6",[t._v("登出")])]):t._e()],1)],1)},e=[],o=(a("14d9"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"cartList-modal"},[s("div",{staticClass:"cartList-modal-notication"},[s("h3",[t._v("購物車")]),s("div",{staticClass:"cartList-modal-notication-content"},[t._l(t.cart.shoppingCart,(function(a){return s("div",{key:a.id,staticClass:"cartList-modal-notication-content-item"},[s("div",{staticClass:"cartList-modal-notication-content-item-name"},[s("h4",[t._v(t._s(a.name))])]),s("div",{staticClass:"cartList-modal-notication-content-item-number"},[s("h4",[t._v(t._s(a.number)+"組")])]),s("div",{staticClass:"cartList-modal-notication-content-item-delete",class:{canNotDelete:t.cart.controlButton},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteItems(a)}}},[s("h6",[t._v("x")])])])})),t.isAuthenticated?s("div",{staticClass:"cartList-modal-notication-content-button",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.authenticatedCheckOut.apply(null,arguments)}}},[s("h4",[t._v("結帳")])]):t._e(),t.isAuthenticated?t._e():s("div",{staticClass:"cartList-modal-notication-content-button",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.unAuthenticatedCheckOut.apply(null,arguments)}}},[s("h4",[t._v("登入結帳")])])],2)])])}),n=[],r=a("2f62"),c=a("3d20"),l=a.n(c),d={computed:{...Object(r["b"])(["cart","isAuthenticated"])},methods:{async deleteItems(t){this.cart.controlButton||(this.isAuthenticated?this.$store.dispatch("deleteItem",t):localStorage.setItem("go_farmmy_products",JSON.stringify(this.cart.shoppingCart)))},authenticatedCheckOut(){this.$store.commit("closeCartModel"),0!==this.cart.shoppingCart.length?this.$router.push({name:"CheckOut-Products"}):this.notification()},unAuthenticatedCheckOut(){this.$store.commit("closeCartModel"),0!==this.cart.shoppingCart.length?this.$router.push({name:"CheckOut-Sign-in"}):this.notification()},notification(){l.a.fire({icon:"warning",title:"購物車內沒有商品！！",toast:!0,showConfirmButton:!1,timer:2e3})}}},u=d,m=(a("9ddc"),a("2877")),h=Object(m["a"])(u,o,n,!1,null,"37795228",null),p=h.exports,f={computed:{...Object(r["b"])(["cart","isAuthenticated","cartModel","checkOutStep"])},components:{CartListModal:p},data(){return{openCardModel:!1}},methods:{controlCartModel(){this.$store.commit("closeCartModel")},showCardModel(){this.cartModel?this.$store.commit("closeCartModel"):this.$store.commit("openCartModel")},async logOut(){if(this.$store.commit("closeCartModel"),this.cart.shoppingCart.length>0){const t=await l.a.fire({title:"購物車內尚有物品",text:"購物車內尚有物品，是否確認登出",icon:"warning",focusCancel:!0,showCancelButton:!0,confirmButtonColor:"#808080",cancelButtonColor:"#38301f",cancelButtonText:"取消登出",confirmButtonText:"確認登出"});if(!t.isConfirmed)return}try{await window.gapi.auth2.getAuthInstance().signOut(),console.log("Google User signed out."),this.$store.commit("logOut"),this.$router.push({name:"Sign-in"}),l.a.fire({icon:"success",title:"登出成功！",toast:!0,showConfirmButton:!1,timer:2e3})}catch(t){console.log(t),this.$store.commit("logOut"),this.$router.push({name:"Sign-in"})}}}},w=f,v=(a("af85"),Object(m["a"])(w,i,e,!1,null,"7cbef82e",null));s["a"]=v.exports},c674:function(t,s,a){"use strict";a("305f")},d0c7:function(t,s,a){t.exports=a.p+"img/home-nav-icon-09.99fe1612.png"},d178:function(t,s,a){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav",on:{click:t.controlCartModel}},[s("input",{staticClass:"navbar-toggle",attrs:{type:"checkbox",id:"navbar-toggle"}}),t._m(0),s("div",{staticClass:"phone-nav"},[s("div",{staticClass:"phone-nav-content"},[s("router-link",{staticClass:"phone-nav-icon",attrs:{to:{name:"About"}}},[s("img",{attrs:{src:a("78c0")}})]),s("router-link",{staticClass:"phone-nav-icon",attrs:{to:{name:"Product"}}},[s("img",{attrs:{src:a("d2d2")}})]),s("router-link",{staticClass:"phone-nav-icon",attrs:{to:{name:"Producer"}}},[s("img",{attrs:{src:a("d0c7")}})]),s("router-link",{staticClass:"phone-nav-icon",attrs:{to:{name:"User-Profile"}}},[s("img",{attrs:{src:a("1762")}})]),s("div",{staticClass:"phone-nav-logo"},[s("router-link",{attrs:{to:{name:"Home"}}},[s("img",{attrs:{src:a("3989")}})])],1)],1)]),s("div",{staticClass:"home-nav"},[s("router-link",{staticClass:"home-nav-icon",attrs:{to:{name:"About"}}},[s("img",{attrs:{src:a("78c0")}})]),s("router-link",{staticClass:"home-nav-icon",attrs:{to:{name:"Product"}}},[s("img",{attrs:{src:a("d2d2")}})]),s("div",{staticClass:"home-nav-logo"},[s("router-link",{attrs:{to:{name:"Home"}}},[s("img",{attrs:{src:a("3989")}})])],1),s("router-link",{staticClass:"home-nav-icon",attrs:{to:{name:"Producer"}}},[s("img",{attrs:{src:a("d0c7")}})]),s("router-link",{staticClass:"home-nav-icon",attrs:{to:{name:"User-Profile"}}},[s("img",{attrs:{src:a("1762")}})])],1)])},e=[function(){var t=this,s=t._self._c;return s("label",{staticClass:"navbar-toggle-label",attrs:{for:"navbar-toggle"}},[s("span",{staticClass:"hamburger"},[s("i",{staticClass:"fas fa-bars"})])])}],o={methods:{controlCartModel(){this.$store.commit("closeCartModel")}}},n=o,r=(a("1235"),a("2877")),c=Object(r["a"])(n,i,e,!1,null,"c074e468",null);s["a"]=c.exports},d2d2:function(t,s,a){t.exports=a.p+"img/home-nav-icon-06.36196c25.png"},d839:function(t,s,a){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"product-content-nav-search"},[s("div",[s("i",{staticClass:"fas fa-search",on:{click:t.filterItem}})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],attrs:{placeholder:"商品搜尋！ex：火龍果！",type:"text",required:""},domProps:{value:t.filterName},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.filterItem.apply(null,arguments)},input:function(s){s.target.composing||(t.filterName=s.target.value)}}})]),s("div",{staticClass:"user-content-nav-category"},[s("div",{staticClass:"user-content-nav-category-name"},[s("router-link",{staticClass:"user-content-nav-category-link",attrs:{to:{name:"User-Profile"}}},[s("h3",[t._v("個人資料")])])],1),s("div",{staticClass:"user-content-nav-category-name"},[s("div",[s("router-link",{staticClass:"user-content-nav-category-link",attrs:{to:{name:"User-Order"}}},[s("h3",[t._v("訂單查詢")])])],1)])])])},e=[],o={data(){return{filterName:""}},methods:{filterItem(){this.$store.commit("addFilterKeyword",this.filterName),this.$emit("listPageFilter"),this.$emit("detailPageFilter"),this.filterName=""}}},n=o,r=(a("c674"),a("2877")),c=Object(r["a"])(n,i,e,!1,null,"eba9f6a6",null);s["a"]=c.exports},e746:function(t,s,a){},f271:function(t,s,a){t.exports=a.p+"img/member-title-1.d8023df1.png"},f8ca:function(t,s,a){}}]);
//# sourceMappingURL=chunk-753b42ec.e63d0b4a.js.map